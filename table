//postgresql은 enum type이 없으므로 직접 만들어줘야됨.
create type enum as ENUM('Y','N');
drop type enum cascade;

//시퀀스 생성.
create sequence tb_board_idx_seq start 1;
//    create sequence 시퀀스명
//    [start with 시작값]
//    [increment by 증가값]
//    [minvalue 최소값],[maxvalue 최대값]
//    [[no]cycle]

//시퀀스 현재값 변경
select setval('시퀀스명',원하는값);

//시퀀스 초기화
alter sequence tb_board_idx_seq restart with 1;

drop table tb_board;

create table tb_board(
	idx serial primary key,
	title varchar(100) not null,
	content varchar(3000),
	writer varchar(30) not null,
	view_cnt integer not null default 0,
	notice_yn enum not null default 'N' ,
	secret_yn enum not null default 'N',
	delete_yn enum not null default 'N' ,
	insert_time timestamp with time zone not null default current_timestamp,
	update_time timestamp with time zone,
	delete_time timestamp with time zone 
);
// current_timestamp == now()

comment on table tb_board is '게시판';
comment on column tb_board.idx is '번호';
comment on column tb_board.title is '제목';
comment on column tb_board.content is '내용';
comment on column tb_board.writer is '작성자';
comment on column tb_board.view_cnt is '조회수';
comment on column tb_board.notice_yn is '공지글 여부';
comment on column tb_board.secret_yn is '비밀글 여부';
comment on column tb_board.delete_yn is '삭제 여부';
comment on column tb_board.insert_time is '등록일';
comment on column tb_board.update_time is '수정일';
comment on column tb_board.delete_time is '삭제일';
